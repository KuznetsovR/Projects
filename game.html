<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="game.css" type="text/css">
    <title>game</title>
</head>
<body>
    <table id='table'>
        <tr id='1'>
            <td class='pixel'></td>
            <td class='pixel'></td>
            <td class='pixel'></td>
            <td class='pixel'></td>
            <td class='pixel'></td>
            <td class='pixel'></td>
            <td class='pixel'></td>
            <td class='pixel'></td>
        </tr>
        <tr id='2'>
            <td class='pixel'></td>
            <td class='pixel'></td>
            <td class='pixel'></td>
            <td class='pixel'></td>
            <td class='pixel'></td>
            <td class='pixel'></td>
            <td class='pixel'></td>
            <td class='pixel'></td>
        </tr>
        <tr id='3'>
            <td class='pixel'></td>
            <td class='pixel'></td>
            <td class='pixel'></td>
            <td class='pixel'></td>
            <td class='pixel'></td>
            <td class='pixel'></td>
            <td class='pixel'></td>
            <td class='pixel'></td>
        </tr>
        <tr id='4'>
            <td class='pixel'></td>
            <td class='pixel'></td>
            <td class='pixel'></td>
            <td class='pixel'></td>
            <td class='pixel'></td>
            <td class='pixel'></td>
            <td class='pixel'></td>
            <td class='pixel'></td>
        </tr>
        <tr id='5'>
            <td class='pixel'></td>
            <td class='pixel'></td>
            <td class='pixel'></td>
            <td class='pixel'></td>
            <td class='pixel'></td>
            <td class='pixel'></td>
            <td class='pixel'></td>
            <td class='pixel'></td>
        </tr>
        <tr id='6'>
            <td class='pixel'></td>
            <td class='pixel'></td>
            <td class='pixel'></td>
            <td class='pixel'></td>
            <td class='pixel'></td>
            <td class='pixel'></td>
            <td class='pixel'></td>
            <td class='pixel'></td>
        </tr>
        <tr id='7'>
            <td class='pixel'></td>
            <td class='pixel'></td>
            <td class='pixel'></td>
            <td class='pixel'></td>
            <td class='pixel'></td>
            <td class='pixel'></td>
            <td class='pixel'></td>
            <td class='pixel'></td>
        </tr>
        <tr id='8'>
            <td class='pixel'></td>
            <td class='pixel'></td>
            <td class='pixel'></td>
            <td class='pixel'></td>
            <td class='pixel'></td>
            <td class='pixel'></td>
            <td class='pixel'></td>
            <td class='pixel'></td>
        </tr>
    </table>

    <script>
        let pixels = document.querySelectorAll('.pixel');
        let px =  Array.from(pixels);
        let queue = 1;
        let table = document.getElementById('table');
        console.log(pixels);


        
        for (let pixel of pixels){
            pixel.onclick = function(){
                let n = px.findIndex(function (val) {
                    return val === pixel;
                })
                
                if (n===23||n===31||n===39||n===47||n===22||n===30||n===38||n===46){                               //right
                    let sixth = px[n+8];                   
                    let second = px[n-8]; 
                    let eigth = px[n-1];
                    let seventh = px[n+7]; 
                    let first = px[n-9];
                    let thirdPixel6 = px[n+16];
                    let thirdPixel2 = px[n-16];
                    let thirdPixel8 = px[n-2];
                    let thirdPixel7 = px[n+14]; 
                    let thirdPixel1 = px[n-18];
                    if (queue%2!==0&&(sixth.style.backgroundColor !== 'red'||second.style.backgroundColor!=='red'||eigth.style.backgroundColor!=='red'||seventh.style.backgroundColor!=='red'||first.style.backgroundColor!=='red')){   //Проверяет правые пиксели
                        if (thirdPixel6.style.backgroundColor === 'red'){
                            sixth.style.backgroundColor = 'red';
                        }
                        if(thirdPixel2.style.backgroundColor === 'red'){
                            second.style.backgroundColor = 'red';
                        }
                        if(thirdPixel8.style.backgroundColor === 'red'){
                            eigth.style.backgroundColor = 'red';
                            console.log(thirdPixel8);
                        }
                        if(thirdPixel7.style.backgroundColor === 'red'){
                            seventh.style.backgroundColor = 'red';
                        }
                        if(thirdPixel1.style.backgroundColor === 'red'){
                            first.style.backgroundColor = 'red';
                        }
                    } else if (queue%2===0&&(sixth.style.backgroundColor !== 'blue'||second.style.backgroundColor !== 'blue'||eigth.style.backgroundColor!=='blue'||seventh.style.backgroundColor!=='blue'||first.style.backgroundColor!=='blue')){   //Проверяет нижние пиксели
                        if (thirdPixel6.style.backgroundColor === 'blue'){
                            sixth.style.backgroundColor = 'blue';
                        }
                        if(thirdPixel2.style.backgroundColor === 'blue'){
                            second.style.backgroundColor = 'blue';
                        }
                        if(thirdPixel8.style.backgroundColor === 'blue'){
                            eigth.style.backgroundColor = 'blue';
                        }
                        if(thirdPixel7.style.backgroundColor === 'blue'){
                            seventh.style.backgroundColor = 'blue';
                        }
                        if(thirdPixel1.style.backgroundColor === 'blue'){
                            first.style.backgroundColor = 'blue';
                        }
                    }
                }else if (n===15||n===7||n===14||n===6){                                                                   //верх-право
                    let eigth = px[n-1];
                    let sixth = px[n+8];
                    let seventh = px[n+7];
                    let thirdPixel6 = px[n+16];
                    let thirdPixel7 = px[n+14];
                    let thirdPixel8 = px[n-2];
                    if(queue%2!==0&&(sixth.style.backgroundColor !== 'red'||seventh.style.backgroundColor!=='red'||eigth.style.backgroundColor!=='red')){
                        if (thirdPixel6.style.backgroundColor === 'red'){
                                sixth.style.backgroundColor = 'red';
                            }
                        if(thirdPixel7.style.backgroundColor === 'red'){
                            seventh.style.backgroundColor = 'red';
                        }
                        if(thirdPixel8.style.backgroundColor === 'red'){
                            eigth.style.backgroundColor = 'red';
                        }
                    }else if(queue%2===0&&(sixth.style.backgroundColor !== 'blue'||seventh.style.backgroundColor!=='blue'||eigth.style.backgroundColor!=='blue')){
                        if (thirdPixel6.style.backgroundColor === 'blue'){
                                sixth.style.backgroundColor = 'blue';
                            }
                        if(thirdPixel7.style.backgroundColor === 'blue'){
                            seventh.style.backgroundColor = 'blue';
                        }
                        if(thirdPixel8.style.backgroundColor === 'blue'){
                            eigth.style.backgroundColor = 'blue';
                        }
                    }           
                }else if (n===63||n===55||n===62||n===54){                          // right-bottom
                    let eigth = px[n-1];
                    let second = px[n-8];
                    let first = px[n-9];
                    let thirdPixel8 = px[n-2];
                    let thirdPixel2 = px[n-16]; 
                    let thirdPixel1 = px[n-18];
                    if(queue%2!==0&&(second.style.backgroundColor !== 'red'||first.style.backgroundColor!=='red'||eigth.style.backgroundColor!=='red')){
                        if (thirdPixel2.style.backgroundColor === 'red'){
                            second.style.backgroundColor = 'red';
                            }
                        if(thirdPixel1.style.backgroundColor === 'red'){
                            first.style.backgroundColor = 'red';
                        }
                        if(thirdPixel8.style.backgroundColor === 'red'){
                            eigth.style.backgroundColor = 'red';
                        }
                    }else if(queue%2===0&&(second.style.backgroundColor !== 'blue'||first.style.backgroundColor!=='blue'||eigth.style.backgroundColor!=='blue')){
                        if (thirdPixel2.style.backgroundColor === 'blue'){
                            second.style.backgroundColor = 'blue';
                            }
                        if(thirdPixel1.style.backgroundColor === 'blue'){
                            first.style.backgroundColor = 'blue';
                        }
                        if(thirdPixel8.style.backgroundColor === 'blue'){
                            eigth.style.backgroundColor = 'blue';
                        }
                    }                
                }else if (n==16||n==17||n==24||n==25||n==32||n==33||n==40||n==41){                              //left
                    let sixth = px[n+8];                    
                    let second = px[n-8];
                    let fourth = px[n+1];
                    let third = px[n-7]; 
                    let fifth = px[n+9];
                    let thirdPixel6 = px[n+16];
                    let thirdPixel2 = px[n-16];
                    let thirdPixel4 = px[n+2];
                    let thirdPixel3 = px[n-14]; 
                    let thirdPixel5 = px[n+18];
                    if (queue%2!==0&&(sixth.style.backgroundColor !== 'red'||second.style.backgroundColor!=='red'||fourth.style.backgroundColor!=='red'||third.style.backgroundColor!=='red'||fifth.style.backgroundColor!=='red')){   //Проверяет правые пиксели
                        if (thirdPixel6.style.backgroundColor === 'red'){
                            sixth.style.backgroundColor = 'red';
                        }
                        if(thirdPixel2.style.backgroundColor === 'red'){
                            second.style.backgroundColor = 'red';
                        }
                        if(thirdPixel4.style.backgroundColor === 'red'){
                            fourth.style.backgroundColor = 'red';
                        }
                        if(thirdPixel3.style.backgroundColor === 'red'){
                            third.style.backgroundColor = 'red';
                        }
                        if(thirdPixel5.style.backgroundColor === 'red'){
                            fifth.style.backgroundColor = 'red';
                        }
                    } else if (queue%2===0&&(sixth.style.backgroundColor !== 'blue'||second.style.backgroundColor !== 'blue'||fourth.style.backgroundColor!=='blue'||third.style.backgroundColor!=='blue'||fifth.style.backgroundColor!=='blue')){   //Проверяет нижние пиксели
                        if (thirdPixel6.style.backgroundColor === 'blue'){
                            sixth.style.backgroundColor = 'blue';
                        }
                        if(thirdPixel2.style.backgroundColor === 'blue'){
                            second.style.backgroundColor = 'blue';
                        }
                        if(thirdPixel4.style.backgroundColor === 'blue'){
                            fourth.style.backgroundColor = 'blue';
                        }
                        if(thirdPixel3.style.backgroundColor === 'blue'){
                            third.style.backgroundColor = 'blue';
                        }
                        if(thirdPixel5.style.backgroundColor === 'blue'){
                            fifth.style.backgroundColor = 'blue';
                        }
                    }
                }else if (n===0||n===1||n===7||n===8){                                                                   //top-left
                    let fourth = px[n+1];
                    let sixth = px[n+8]; 
                    let fifth = px[n+9];
                    let thirdPixel4 = px[n+2];
                    let thirdPixel6 = px[n+16]; 
                    let thirdPixel5 = px[n+18];
                    if(queue%2!==0&&(sixth.style.backgroundColor !== 'red'||fifth.style.backgroundColor!=='red'||fourth.style.backgroundColor!=='red')){
                        if (thirdPixel6.style.backgroundColor === 'red'){
                            sixth.style.backgroundColor = 'red';
                            }
                        if(thirdPixel5.style.backgroundColor === 'red'){
                            fifth.style.backgroundColor = 'red';
                        }
                        if(thirdPixel4.style.backgroundColor === 'red'){
                            fourth.style.backgroundColor = 'red';
                        }
                    }else if(queue%2===0&&(sixth.style.backgroundColor !== 'blue'||fifth.style.backgroundColor!=='blue'||fourth.style.backgroundColor!=='blue')){
                        if (thirdPixel6.style.backgroundColor === 'blue'){
                            sixth.style.backgroundColor = 'blue';
                            }
                        if(thirdPixel5.style.backgroundColor === 'blue'){
                            fifth.style.backgroundColor = 'blue';
                        }
                        if(thirdPixel4.style.backgroundColor === 'blue'){
                            fourth.style.backgroundColor = 'blue';
                        }
                    }                     
                }else if (n===56||n===57||n===49||n===48){                                  //bottom-left
                    let fourth = px[n+1];
                    let second = px[n-8];
                    let third = px[n-7];
                    let thirdPixel4 = px[n+2];
                    let thirdPixel2 = px[n-16]; 
                    let thirdPixel3 = px[n-14];
                    if(queue%2!==0&&(second.style.backgroundColor !== 'red'||third.style.backgroundColor!=='red'||fourth.style.backgroundColor!=='red')){
                        if (thirdPixel2.style.backgroundColor === 'red'){
                            second.style.backgroundColor = 'red';
                            }
                        if(thirdPixel3.style.backgroundColor === 'red'){
                            third.style.backgroundColor = 'red';
                        }
                        if(thirdPixel4.style.backgroundColor === 'red'){
                            fourth.style.backgroundColor = 'red';
                        }
                    }else if(queue%2===0&&(second.style.backgroundColor !== 'blue'||third.style.backgroundColor!=='blue'||fourth.style.backgroundColor!=='blue')){
                        if (thirdPixel2.style.backgroundColor === 'blue'){
                            second.style.backgroundColor = 'blue';
                            }
                        if(thirdPixel3.style.backgroundColor === 'blue'){
                            third.style.backgroundColor = 'blue';
                        }
                        if(thirdPixel4.style.backgroundColor === 'blue'){
                            fourth.style.backgroundColor = 'blue';
                        }
                    }                    
                } else if(n==2||n==3||n==4||n==5||n==6||n==9||n==10||n==11||n==12||n==13){                                                        //top
                    let eigth = px[n-1];
                    let fourth = px[n+1];
                    let sixth = px[n+8]; 
                    let seventh = px[n+7];
                    let fifth = px[n+9];
                    let thirdPixel6 = px[n+16];
                    let thirdPixel7 = px[n+14];
                    let thirdPixel4 = px[n+2];
                    let thirdPixel8 = px[n-2]; 
                    let thirdPixel5 = px[n+18];
                    if (queue%2!==0&&(sixth.style.backgroundColor !== 'red'||fourth.style.backgroundColor!=='red'||eigth.style.backgroundColor!=='red'||seventh.style.backgroundColor!=='red'||fifth.style.backgroundColor!=='red')){   //Проверяет правые пиксели
                        if (thirdPixel6.style.backgroundColor === 'red'){
                            sixth.style.backgroundColor = 'red';
                        }
                        if(thirdPixel4.style.backgroundColor === 'red'){
                            fourth.style.backgroundColor = 'red';
                        }
                        if(thirdPixel8.style.backgroundColor === 'red'){
                            eigth.style.backgroundColor = 'red';
                        }
                        if(thirdPixel7.style.backgroundColor === 'red'){
                            seventh.style.backgroundColor = 'red';
                        }
                        if(thirdPixel5.style.backgroundColor === 'red'){
                            fifth.style.backgroundColor = 'red';
                        }
                    } else if (queue%2===0&&(sixth.style.backgroundColor !== 'blue'||fourth.style.backgroundColor !== 'blue'||eigth.style.backgroundColor!=='blue'||seventh.style.backgroundColor!=='blue'||fifth.style.backgroundColor!=='blue')){   //Проверяет нижние пиксели
                        if (thirdPixel6.style.backgroundColor === 'blue'){
                            sixth.style.backgroundColor = 'blue';
                        }
                        if(thirdPixel4.style.backgroundColor === 'blue'){
                            fourth.style.backgroundColor = 'blue';
                        }
                        if(thirdPixel8.style.backgroundColor === 'blue'){
                            eigth.style.backgroundColor = 'blue';
                        }
                        if(thirdPixel7.style.backgroundColor === 'blue'){
                            seventh.style.backgroundColor = 'blue';
                        }
                        if(thirdPixel5.style.backgroundColor === 'blue'){
                            fifth.style.backgroundColor = 'blue';
                        }
                    }               
                } else if(57<n&&n<62||49<n&&n<54){                      // bottom
                    let eigth = px[n-1];
                    let fourth = px[n+1];  
                    let third = px[n-7];
                    let second = px[n-8];
                    let first = px[n-9];
                    let thirdPixel8 = px[n-2];
                    let thirdPixel2 = px[n-16]; 
                    let thirdPixel1 = px[n-18];
                    let thirdPixel4 = px[n+2];
                    let thirdPixel3 = px[n-14];
                    if(queue%2!==0&&(second.style.backgroundColor !== 'red'||first.style.backgroundColor!=='red'||eigth.style.backgroundColor!=='red'||third.style.backgroundColor!=='red'||fourth.style.backgroundColor!=='red')){
                        if (thirdPixel2.style.backgroundColor === 'red'){
                            second.style.backgroundColor = 'red';
                            }
                        if(thirdPixel1.style.backgroundColor === 'red'){
                            first.style.backgroundColor = 'red';
                        }
                        if(thirdPixel8.style.backgroundColor === 'red'){
                            eigth.style.backgroundColor = 'red';
                        }
                        if(thirdPixel3.style.backgroundColor === 'red'){
                            third.style.backgroundColor = 'red';
                        }
                        if(thirdPixel4.style.backgroundColor === 'red'){
                            fourth.style.backgroundColor = 'red';
                        }
                    }else if(queue%2===0&&(second.style.backgroundColor !== 'blue'||first.style.backgroundColor!=='blue'||eigth.style.backgroundColor!=='blue'||third.style.backgroundColor!=='blue'||fourth.style.backgroundColor!=='blue')){
                        if (thirdPixel2.style.backgroundColor === 'blue'){
                            second.style.backgroundColor = 'blue';
                            }
                        if(thirdPixel1.style.backgroundColor === 'blue'){
                            first.style.backgroundColor = 'blue';
                        }
                        if(thirdPixel8.style.backgroundColor === 'blue'){
                            eigth.style.backgroundColor = 'blue';
                        }
                        if(thirdPixel3.style.backgroundColor === 'blue'){
                            third.style.backgroundColor = 'blue';
                        }
                        if(thirdPixel4.style.backgroundColor === 'blue'){
                            fourth.style.backgroundColor = 'blue';
                        }
                    }              
                }
                 else {
                    let eigth = px[n-1];
                    let fourth = px[n+1];
                    let sixth = px[n+8];                    
                    let second = px[n-8]; 
                    let fifth = px[n+9];  
                    let seventh = px[n+7]; 
                    let first = px[n-9]; 
                    let third = px[n-7];
                    let thirdPixel6 = px[n+16];
                    let thirdPixel7 = px[n+14];
                    let thirdPixel4 = px[n+2];
                    let thirdPixel8 = px[n-2]; 
                    let thirdPixel5 = px[n+18];
                    let thirdPixel1 = px[n-18];
                    let thirdPixel2 = px[n-16]; 
                    let thirdPixel3 = px[n-14];
                    if (queue%2!==0&&(sixth.style.backgroundColor !== 'red'||fourth.style.backgroundColor!=='red'||eigth.style.backgroundColor!=='red'||seventh.style.backgroundColor!=='red'||fifth.style.backgroundColor!=='red'||first.style.backgroundColor!=='red'||second.style.backgroundColor!=='red'||third.style.backgroundColor!=='red')){   //Проверяет правые пиксели
                        if (thirdPixel6.style.backgroundColor === 'red'){
                            sixth.style.backgroundColor = 'red';
                        }
                        if(thirdPixel4.style.backgroundColor === 'red'){
                            fourth.style.backgroundColor = 'red';
                        }
                        if(thirdPixel8.style.backgroundColor === 'red'){
                            eigth.style.backgroundColor = 'red';
                        }
                        if(thirdPixel7.style.backgroundColor === 'red'){
                            seventh.style.backgroundColor = 'red';
                        }
                        if(thirdPixel5.style.backgroundColor === 'red'){
                            fifth.style.backgroundColor = 'red';
                        }
                        if(thirdPixel1.style.backgroundColor === 'red'){
                            first.style.backgroundColor = 'red';
                        }
                        if(thirdPixel2.style.backgroundColor === 'red'){
                            second.style.backgroundColor = 'red';
                        }
                        if(thirdPixel3.style.backgroundColor === 'red'){
                            third.style.backgroundColor = 'red';
                        }
                    } else if (queue%2===0&&(sixth.style.backgroundColor !== 'blue'||fourth.style.backgroundColor !== 'blue'||eigth.style.backgroundColor!=='blue'||seventh.style.backgroundColor!=='blue'||fifth.style.backgroundColor!=='blue'||first.style.backgroundColor!=='blue'||second.style.backgroundColor!=='blue'||third.style.backgroundColor!=='blue')){   //Проверяет нижние пиксели
                        if (thirdPixel6.style.backgroundColor === 'blue'){
                            sixth.style.backgroundColor = 'blue';
                        }
                        if(thirdPixel4.style.backgroundColor === 'blue'){
                            fourth.style.backgroundColor = 'blue';
                        }
                        if(thirdPixel8.style.backgroundColor === 'blue'){
                            eigth.style.backgroundColor = 'blue';
                        }
                        if(thirdPixel7.style.backgroundColor === 'blue'){
                            seventh.style.backgroundColor = 'blue';
                        }
                        if(thirdPixel5.style.backgroundColor === 'blue'){
                            fifth.style.backgroundColor = 'blue';
                        }
                        if(thirdPixel1.style.backgroundColor === 'blue'){
                            first.style.backgroundColor = 'blue';
                        }
                        if(thirdPixel2.style.backgroundColor === 'blue'){
                            second.style.backgroundColor = 'blue';
                        }
                        if(thirdPixel3.style.backgroundColor === 'blue'){
                            third.style.backgroundColor = 'blue';
                        }
                    }    
                }
                    
                if (queue%2>0){
                    pixel.style.backgroundColor = 'red';
                    
                } else{
                    pixel.style.backgroundColor = 'blue';
                }
            queue+=1;
            }
        } 
    </script>
</body>
</html>